# Course Overview

Welcome to **Bare Metal Networking for Private Clouds**! In this course, you'll learn to design and deploy a modern data center network from the ground up:

- **Pure L3 IPv6 Fabric:** Build a spine-leaf underlay using IPv6 link-local addressing, unnumbered BGP sessions, ECMP routing, and sub-50ms failover with BFD.
- **Cloud-Native Routers:** Automate Kubernetes cluster provisioning with Talos Linux and integrate Cilium to align pod networking with your L3 fabric.
- **eBPF-Powered Networking:** Write eBPF programs to create Cloud-Native Network Functions (CNFs) and chain them into service pipelines with *netkit*, achieving NIC-level performance.

**Course Structure:** The material is organized into three main sections, a special module on service chaining, and foundational reference content:
- **Section 1:** Scalable Data Center (Pure L3 Networking)
- **Section 2:** Cloud-Native Function Router (Talos + Cilium)
- **Section 3:** Networking with eBPF
- **Service Chains:** Building and operating multi-function network service chains
- **Foundations & Integration:** Deep dives, best practices, and reference architectures

Throughout the course, each concept module is paired with hands-on labs. You'll get to practice configuring routers, bootstrapping clusters, writing eBPF code, and troubleshooting in realistic scenarios. By the end, you'll have end-to-end control over packet flow—from physical wire to container and back—with confidence in each component's performance and reliability.

Let's get started with Section 1, where we tackle building a scalable IPv6 underlay network!

# Section 1: Scalable Data Center (Pure L3 Networking)
> Discuss the protocols and topology of the underlying network to build a [[Scalable Data Center]].
1.  [[Evolution of the Data Center]]
	1. [[Pure Layer 3 Underlay]]
		1. [[Bidirectional Forwarding Detection|BFD]] is used for sub-second link failover. Meet high availability SLAs
		2. [[Project Notes/Scalable Data Center Resources/IPv6|IPv6]] is used for easy management of IP addresses. Using [[Neighbor Discovery Protocol]] and [[Link-Local Addresses]], we can achieve [[IPv6 Route Advertisement|Route Advertisement]] without any configuration.
2. [[Spine and Leaf Topology]] is used to avoid the overhead of Layer 2 networking.
	1. [[Border Gateway Protocol|BGP]] is used for ~~scalability, flexibility, load balancing, and fast fail over~~. load balancing and advertising routes to other ~~networking~~ devices. In terms of scalability, [[Border Gateway Protocol|BGP]] is currently handling ~700,000 routes of the public internet. [[Border Gateway Protocol|BGP]] can use link-local addresses to exchange information about IP addresses configured in a data center.
	2. [[BIG TCP]]:  Extends TCP’s window-scaling and congestion control, improving performance and throughput as packets enter the networking stack.
	3. [[BBRv3]] is used for
	4. [[Stateless Address Autoconfiguration|SLAAC]] is used for
	5. [[Case Study - Nokia Kubernetes Service]]


# Module 2: A New Take on Routing and Switching
> Automate the provisioning Kubernetes cluster via [[Talos Linux]] and the configuration of [[Cilium Datapath Architecture|Cilium]].
1. [[Cilium Datapath Architecture]]
	- [[Cilium Strengths]]
	- [Tuning Guide](https://docs.cilium.io/en/latest/operations/performance/tuning/)
2. [[Cilium CRDs]]
	- [[Cilium BGP]]
3. [[Provisioning Infrastructure]]
	- [[Kubernetes Infrastructure]]

# Module 3: Networking with eBPF
> Write, build, and deploy eBPF programs that intercept and manipulate network packets at scale, with a focus on efficiency, performance, and security.
> These eBPF programs will be Cloud-native Network Functions.
1. Introduction: How will we use eBPF for our use case?
	1. Set up an eBPF Development Environment
	2. Describe the tooling required to build eBPF applications, e.g. `libbpf`, `bpftool`, `LLVM Clang`, `Linux headers`, and explain what role they play.
2. Writing an eBPF Program
	1. Programming Languages: Restricted C and Go
		1. Discuss advantages and limitations of using C for kernel-space program and Go for user-space application.
	2. Best practices for eBPF application development (e.g. Compile Once Run Everywhere (CO-RE)).
	3. Headers, [[SEC]], so on.
3. Service Function Chaining
	1. Discuss [[netkit]] is used for host-native packet processing speeds. replaces traditional veth/tc datapaths with a BPF-programmable network device
	2. [[BPF Multi-Program Attachment]]
